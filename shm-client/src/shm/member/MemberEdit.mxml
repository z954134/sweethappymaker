<?xml version="1.0" encoding="utf-8"?>
<mx:Panel xmlns:mx="http://www.adobe.com/2006/mxml" creationComplete="listService.send()">
	<mx:HTTPService id="listService" url="/member/list" showBusyCursor="true"/>

	<mx:HTTPService id="updateService" url="/member/update" method="post" showBusyCursor="true"
					result="listService.send()">
		<mx:request>
			<key>{dg.selectedItem.key}</key>
			<memberId>{memberIdText.text}</memberId>
			<password>{passwordText.text}</password>
			<email>{emailText.text}</email>
		</mx:request>
	</mx:HTTPService>
	<mx:HTTPService id="insertService" url="/member/insert" method="post" showBusyCursor="true"
					result="listService.send()">
		<mx:request>
			<memberId>{memberIdText.text}</memberId>
			<password>{passwordText.text}</password>
			<email>{emailText.text}</email>
		</mx:request>
	</mx:HTTPService>
	
	<mx:HTTPService id="deleteService" url="/member/delete" method="post" showBusyCursor="true"
					result="listService.send()">
		<mx:request>
			<key>{dg.selectedItem.key}</key>
		</mx:request>
	</mx:HTTPService>

	<mx:VBox x="0" y="0" height="100%">
		<mx:DataGrid id="dg" width="471" left="0" top="0" height="200"
					 dataProvider="{listService.lastResult.memberList.member}">
			<mx:columns>
				<mx:DataGridColumn headerText="MemberId" dataField="memberId"/>
				<mx:DataGridColumn headerText="Password" dataField="password"/>
				<mx:DataGridColumn headerText="Email" dataField="email"/>
			</mx:columns>
		</mx:DataGrid>
		<mx:Form x="0" y="100" width="100%" height="100">
			<mx:FormItem label="MemberId">
				<mx:TextInput id="memberIdText" text="{dg.selectedItem.memberId}"/>
			</mx:FormItem>
			<mx:FormItem label="Password">
				<mx:TextInput id="passwordText" text="{dg.selectedItem.password}"/>
			</mx:FormItem>
			<mx:FormItem label="Email">
				<mx:TextInput id="emailText" text="{dg.selectedItem.email}"/>
			</mx:FormItem>
		</mx:Form>

	</mx:VBox>
	<mx:HBox x="20" y="304" width="100%" height="34">
		<mx:Button label="Insert" click="insertService.send()"/>
		<mx:Button label="Update" click="updateService.send()"/>
		<mx:Button label="Delete" click="deleteService.send()"/>
	</mx:HBox>
</mx:Panel>
