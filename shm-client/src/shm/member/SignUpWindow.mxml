<?xml version="1.0" encoding="utf-8"?>
<!-- サインアップ用ポップアップウィンドウ -->
<mx:TitleWindow xmlns:mx="http://www.adobe.com/2006/mxml" title="Login" showCloseButton="true"
				xmlns:mbr="shm.member.*" backgroundAlpha="0.7" backgroundColor="#303FB1"
				borderColor="#5677E4" close="ctrl.onCloseButtonClicked(event)">

	<!-- コントローラ -->
	<mbr:SignUpCtrl id="ctrl"/>

	<!-- ログインフォーム -->
	<mx:Form width="100%">
		<mx:FormHeading label="ログイン情報を入力してください。"/>
		<mx:FormItem label="メンバーID" required="true">
			<mx:TextInput id="memberIdField"/>
		</mx:FormItem>
		<mx:FormItem label="パスワード" required="true">
			<mx:TextInput id="passwordField" displayAsPassword="true"/>
		</mx:FormItem>
		<mx:FormItem label="Eメール" required="false">
			<mx:TextInput id="emailField"/>
		</mx:FormItem>
	</mx:Form>
	<mx:ControlBar horizontalAlign="center">
		<mx:Button label="Login" id="loginButton" click="ctrl.onLoginButtonClicked(event)"/>
		<mx:Button label="Cancel" id="cancelButton" click="ctrl.onCancelButtonClick(event)"/>
	</mx:ControlBar>

	<!-- 精査 -->
	<mx:Array id="validators">
		<mx:Validator id="memberIdValidator" source="{memberIdField}" property="text"
					  requiredFieldError="メンバーIDを入力してください"/>
		<mx:Validator id="passwordValidator" source="{passwordField}" property="text"
					  requiredFieldError="パスワードを入力してください"/>
		<mx:EmailValidator id="emailValidator" source="{emailField}" property="text" required="false"/>
	</mx:Array>

	<!-- サーバ呼び出し -->
	<mx:HTTPService id="serv" url="/member/insert" method="post" showBusyCursor="true"
					result="ctrl.onServiceCompleted(event)" fault="ctrl.onServiceCallFailed(event)">
		<mx:request>
			<memberId>{memberIdField.text}</memberId>
			<password>{passwordField.text}</password>
			<email>{emailField.text}</email>
		</mx:request>
	</mx:HTTPService>

</mx:TitleWindow>
